# ca-dojo

## step1
MISSIONの内容を確認してみよう
開発をするAPIの仕様を確認してみましょう。
このMISSIONではスマートフォン向けゲームのAPIの開発を想定しています。
API仕様YAML: https://github.com/CyberAgentHack/techtrain-mission/blob/master/api-document.yaml
上記のyamlファイルの内容をSwaggerEditorの画面左半分にコピー&ペーストで入力してみましょう。
SwaggerEditor: https://editor.swagger.io/
画面右半分に表示された内容が今回開発をする内容です。

## step2
開発環境を準備してみよう
このMISSIONではGo言語とMySQL(データベース)を利用して開発を行います。
それぞれ最新版を自身のPCに導入しましょう。
MySQLは直接PCへインストールでも良いですがdockerを利用するとより手軽です。

## step3
ユーザ情報を保存するテーブルを設計してみよう
API仕様を見ながらMySQLのテーブル定義をしましょう。
今回、ゲームユーザの情報(認証情報と名前)を管理するためにどのようなテーブルが必要か考えてみましょう。
定義が完了したら実際にMySQLにCREATE TABLEしてみましょう。
## step4
認証情報の作成 / ユーザ情報の更新・参照APIを実装してみよう
STEP3で定義したDBテーブルを利用して実際にAPIを実装してみましょう。
実装対象のAPIは以下の3つです。上から順に作ってみましょう。
・/user/create ユーザアカウント認証情報作成API
・/user/get ユーザ情報取得API
・/user/update ユーザ情報更新API

## step5
ガチャに関連するテーブルを設計しよう
ガチャに関連するテーブルを設計してみましょう。
具体的には
・キャラクターの不変的な内容(IDや名前など)を定義する情報テーブル
・ユーザの所持キャラクター情報を管理するテーブル
・ガチャの排出内容を定義するテーブル
などが挙げられます。どのように排出確率を定義するかしっかりと考えながら定義をしてみましょう。

## step6
STEP 6
ガチャ実行APIと所持キャラクター一覧取得APIを実装してみよう
上から順に
・/gacha/draw ガチャ実行API
・/character/list ユーザ所持キャラクター一覧取得API
を実装してみましょう。
ガチャ実行は指定した回数分キャラクターの排出抽選を行い、ユーザの所持キャラクター情報に保存をします。
その後ユーザ所持キャラクター一覧取得APIでガチャで獲得したキャラクター情報が取得できるか確認をしてみましょう。
